---
title: TCP和UDP之间的区别
date: 2018-02-26 09:06:43
tags:
- TCP
- UDP 
categories: 工作
---
        

　<font size="5" color="lightseagreen"> 新年的第一篇博客，新的一年继续加油努力，这这一年里一定要遇到更好的自己，这篇博客是就自己做的一个APP中用到了socket,总结一下TCP和UDP通信。</font>
<!--more-->

TCP和UDP之间的区别

　　1）　TCP/IP和UDP最大的区别:<font color="red"> TCP/IP是面向连接的，UDP是非面向连接的。通俗一点说就是:TCP/IP管发管到，UDP管发不管到。</font>
　　2）　TCP/IP偏重的是点对点的通信，使用时服务器server和client的区别显而易见，而UDP可以使用组播实现一对多，通信更像一个群聊系统，几乎没有客户端和服务器的区别。
　　3）　在具体的编写结构上，<font color="forestgreen">TCP/IP是通过创建socket对象进行链接，从连接对象上得到输入输出流，在流中读写从而通信。而UDP则是在本机创建DatagramSocket对象，将数据包装成DatagramPacket包来发送，其中的包里有要发送的IP地址和端口port。</font>

　　TCP（Transmission Control Protocol，传输控制协议）是基于连接的协议，也就是说，在正式收发数据前，必须和对方建立可靠的连接。一个TCP连接必须要经过**三次“对话”才能建立起来**，其中的过程非常复杂，我们这里只做简单、形象的介绍，你只要做到能够理解这个过程即可。我们来看看这三次对话的简单过程:<font color="purple">主机A向主机B发出连接请求数据包:“我想给你发数据，可以吗？”，这是第一次对话；主机B向主机A发送同意连接和要求同步（同步就是两台主机一个在发送，一个在接收，协调工作）的数据包:“可以，你什么时候发？”，这是第二次对话；主机A再发出一个数据包确认主机B的要求同步:“我现在就发，你接着吧！”，这是第三次对话。**三次“对话”的目的是使数据包的发送和接收同步，经过三次“对话”之后，主机A才向主机B正式发送数据**。</font>

　　TCP协议能为应用程序提供可靠的通信连接，使一台计算机发出的字节流无差错地发往网络上的其他计算机，对可靠性要求高的数据通信系统往往使用TCP协议传输数据。
　　面向非连接:就是在正式通信前不必与对方先建立连接，不管对方状态就直接发送。这与现在手机短信非常相似:你在发短信的时候，只需要输入对方手机号就OK了。
　　<font color="red">UDP（User Data Protocol，用户数据报协议）是与TCP相对应的协议。它是面向非连接的协议，它不与对方建立连接，而是直接就把数据包发送过去！</font>
　　比如，我们经常使用“ping”命令来测试两台主机之间TCP/IP通信是否正常，其实 **“ping”命令的原理就是向对方主机发送UDP数据包**，然后对方主机确认收到数据包，如果数据包是否到达的消息及时反馈回来，那么网络就是通的。例如，在默认状态下，一次“ping”操作发送4个数据包（如图2所示）。大家可以看到，发送的数据包数量是4包，收到的也是4包（因为对方主机收到后会发回一个确认收到的数据包）。这充分说明了UDP协议是面向非连接的协议，没有建立连接的过程。正因为UDP协议没有连接的过程，所以它的通信效果高；但也正因为如此，它的可靠性不如TCP协议高。QQ就使用UDP发消息，因此有时会出现收不到消息的情况。
　　TCP协议和UDP协议各有所长、各有所短，适用于不同要求的通信环境。TCP协议和UDP协议之间的差别如附表所示。

<table>
<thead>
<tr>
<th>　　　　　　　</th>
<th>TCP</th>
<th>　　　UDP　　</th>
</tr>
</thead>
<tbody>
<tr>
<td>是否连接</td>
<td>面向连接</td>
<td>面向非连接　</td>
</tr>
<tr>
<td>传输可靠性　</td>
<td>可靠　　　　</td>
<td>不可靠　　</td>
</tr>
<tr>
<td>应用场合　　　　</td>
<td>传输大量的数据</td>
<td>少量的数据　　</td>
</tr>
<tr>
<td>速度　　　　　　</td>
<td>　慢　　　　　</td>
<td>快　　　　　　</td>
</tr>
</tbody>
</table>

　　**IP协议的基本功能是提供数据传输、数据包编止、数据包路由，分段等。通过ip编止约定**，可以成功的将数据通过路由传输到正确的网络或者子网。ip协议是一种无连接的协议。
　　**面向连接的tcp,是基于连接的协议**，也就是说在正式收发数据前，必须和对方建立可靠的连接，该协议能提供可靠的数据传输，保证数据准确无误的到达目的地。
　　<font color="forestgreen">QQ就是udp发信息的，因此有时会出现收不到信息的时候此外，udp程序结构比较简单，tcp对系统资源的要求比udp多，udp和tcp协议是传输层的协议，而ip协议是网络层的协议，tcp的连接需要三次握手过程，断开需要4次。</font>

    </div>

  </div>